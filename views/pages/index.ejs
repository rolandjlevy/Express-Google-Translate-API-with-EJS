<%- include('../partials/head.ejs'); %>
<%- include('../partials/nav.ejs'); %>

<main role="main" class="container">
  <h3 class="color-red uppercase">Language Translator</h3>
  <section class="jumbotron p-4">
    <p class="lead">Instantly translate words and phrases between any language and a selection of <%= Object.keys(languages.list).length-1 %> languages</p>

    <form method="post" action="/translate">
      <div class="row">

        <div class="col-md-4 mb-3">
          <textarea name="msg" class="form-control" id="msg" placeholder="Any phrase in any language..." required=""><%= msg %></textarea>
          <div class="invalid-feedback">
            Message required
          </div>
        </div>

        <div class="col-md-4 mb-3 input-group">
          <select name="lang" class="form-control custom-select d-block w-100 m-r-10" id="lang" required="">
          <%- languages.getMenu(lang) %>
          </select> 
          <span class="input-group-btn">
            <button class="btn btn-danger btn-block" type="submit" id="translate"><i class="fa fa-comments" aria-hidden="true"></i></button>
          </span>
          <div class="invalid-feedback">
            Please select a language in the list
          </div>
        </div>

        <div class="col-md-4 mb-3 input-group">
          <textarea name="result" class="form-control" id="result" placeholder="Translation in chosen language"><%= result %></textarea>
          <span class="input-group-btn">
            <div class="flag<%= msg ? ' m-l-10' : ''; %>"><%= languages.getEmoji(lang, msg, 'div') %></div>
          </span>
        </div>

      </div>
    </form>
  </section>
</main>

<%- include('../partials/footer.ejs'); %>